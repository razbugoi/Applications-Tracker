(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[164],{11725:function(e,t,n){Promise.resolve().then(n.bind(n,47215))},47215:function(e,t,n){"use strict";n.d(t,{OutcomeSummary:function(){return c}});var o=n(57437),i=n(48722),r=n(92800);function c(){var e,t,n,c,u,g;let{data:j,error:v,isLoading:b}=(0,i.ZP)("outcome-summary",async()=>(await (0,r.L8)("Determined")).items),w=null!=j?j:[],S=w.length,O=function(e){if(0===e.length)return[];let t={};e.forEach(e=>{var n,o;let i=null!==(n=e.outcome)&&void 0!==n?n:"Pending";t[i]=(null!==(o=t[i])&&void 0!==o?o:0)+1});let n=e.length;return Object.entries(t).map(e=>{let[t,o]=e;return{outcome:t,count:o,percentage:o/n*100}}).sort((e,t)=>t.count-e.count)}(w),A=null!==(c=null===(e=O.find(e=>"Approved"===e.outcome||"Permitted"===e.outcome))||void 0===e?void 0:e.count)&&void 0!==c?c:0,P=null!==(u=null===(t=O.find(e=>"Refused"===e.outcome))||void 0===t?void 0:t.count)&&void 0!==u?u:0,k=null!==(g=null===(n=O.find(e=>"Withdrawn"===e.outcome))||void 0===n?void 0:n.count)&&void 0!==g?g:0,C=0===S?0:Math.round(A/S*1e3)/10;return(0,o.jsxs)("main",{style:a,children:[(0,o.jsx)("header",{style:l,children:(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{style:{margin:0},children:"Outcome Summary"}),(0,o.jsx)("p",{style:{margin:"8px 0 0",color:"var(--text-muted)",fontSize:16},children:"Performance snapshot for determined applications. Track approvals, refusals, and withdrawals at a glance."})]})}),b&&(0,o.jsx)("p",{style:y,children:"Loading outcome data…"}),v&&(0,o.jsx)("p",{style:{...y,color:"var(--danger)"},children:"Failed to load outcome data."}),!b&&!v&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("section",{style:d,children:[(0,o.jsx)(s,{label:"Determined",value:S,caption:"Total decisions issued"}),(0,o.jsx)(s,{label:"Approved",value:A,caption:"Applications permitted",tone:"success"}),(0,o.jsx)(s,{label:"Refused",value:P,caption:"Applications refused",tone:"danger"}),(0,o.jsx)(s,{label:"Withdrawn",value:k,caption:"Applications withdrawn",tone:"warning"}),(0,o.jsx)(s,{label:"Approval Rate",value:"".concat(C.toFixed(1),"%"),caption:"Approved vs total decisions",tone:"success"})]}),(0,o.jsxs)("section",{style:p,children:[(0,o.jsx)("h2",{style:h,children:"Outcome Distribution"}),0===O.length?(0,o.jsx)("p",{style:y,children:"No determined applications yet."}):(0,o.jsxs)("table",{style:x,children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{scope:"col",style:f,children:"Outcome"}),(0,o.jsx)("th",{scope:"col",style:f,children:"Applications"}),(0,o.jsx)("th",{scope:"col",style:f,children:"Share"})]})}),(0,o.jsx)("tbody",{children:O.map(e=>(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{style:m,children:e.outcome}),(0,o.jsx)("td",{style:m,children:e.count}),(0,o.jsxs)("td",{style:m,children:[e.percentage.toFixed(1),"%"]})]},e.outcome))})]})]}),(0,o.jsxs)("section",{style:p,children:[(0,o.jsx)("h2",{style:h,children:"Latest Decisions"}),0===w.length?(0,o.jsx)("p",{style:y,children:"No determined applications to display."}):(0,o.jsxs)("table",{style:x,children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{scope:"col",style:f,children:"Project"}),(0,o.jsx)("th",{scope:"col",style:f,children:"Outcome"}),(0,o.jsx)("th",{scope:"col",style:f,children:"Determination Date"}),(0,o.jsx)("th",{scope:"col",style:f,children:"Case Officer"})]})}),(0,o.jsx)("tbody",{children:[...w].sort((e,t)=>{var n,o;return(null!==(n=t.determinationDate)&&void 0!==n?n:"").localeCompare(null!==(o=e.determinationDate)&&void 0!==o?o:"")}).slice(0,10).map(e=>{var t,n;return(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{style:m,children:e.prjCodeName}),(0,o.jsx)("td",{children:null!==(t=e.outcome)&&void 0!==t?t:"—"}),(0,o.jsx)("td",{style:m,children:function(e){if(!e)return"—";let t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString()}(e.determinationDate)}),(0,o.jsx)("td",{children:null!==(n=e.caseOfficer)&&void 0!==n?n:"—"})]},e.applicationId)})})]})]})]})]})}function s(e){let{label:t,value:n,caption:i,tone:r="default"}=e;return(0,o.jsxs)("article",{style:{...u,...{default:{background:"rgba(37, 99, 235, 0.08)",color:"#1d4ed8"},success:{background:"rgba(34, 197, 94, 0.12)",color:"#15803d"},danger:{background:"rgba(220, 38, 38, 0.12)",color:"#b91c1c"},warning:{background:"rgba(234, 179, 8, 0.12)",color:"#b45309"}}[r]},children:[(0,o.jsx)("span",{style:{fontSize:14,fontWeight:600},children:t}),(0,o.jsx)("strong",{style:{fontSize:32},children:n}),(0,o.jsx)("span",{style:{fontSize:12,opacity:.8},children:i})]})}let a={display:"flex",flexDirection:"column",gap:32,padding:"32px 24px 64px",maxWidth:1080,margin:"0 auto"},l={display:"flex",flexDirection:"column",gap:12},d={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:16},u={padding:"20px 18px",borderRadius:18,display:"flex",flexDirection:"column",gap:8,boxShadow:"0 14px 30px rgba(15, 23, 42, 0.08)"},p={border:"1px solid var(--border)",borderRadius:16,padding:20,background:"var(--surface)"},h={margin:"0 0 16px"},x={width:"100%",borderCollapse:"collapse"},f={textAlign:"left",padding:"12px 16px",fontSize:13,fontWeight:600,color:"var(--text-muted)",borderBottom:"1px solid var(--border)"},m={padding:"14px 16px",borderBottom:"1px solid var(--border)"},y={padding:24,textAlign:"center",color:"var(--text-muted)"}},421:function(e,t,n){"use strict";n.d(t,{Z:function(){return u},q:function(){return d}});var o=n(4896);let i="eu-west-2",r="eu-west-2_Mp5QuBMEE",c="7p4cb8l4k8g9s2e9infoqoc6id",s="eu-west-2:76467ba5-5dcb-45e3-b2e9-91838ab508cd",a="https://hv16oj3j92.execute-api.eu-west-2.amazonaws.com/prod",l=!!(i&&r&&c&&s&&a);l&&o.V.configure({Auth:{Cognito:{userPoolId:r,userPoolClientId:c,identityPoolId:s,loginWith:{username:!1,email:!0,phone:!1}}},API:{REST:{PlanningTrackerApi:{endpoint:a,region:i}}}});let d=l,u=!1},92800:function(e,t,n){"use strict";n.d(t,{L8:function(){return s},UM:function(){return l},VG:function(){return u},W3:function(){return a},_7:function(){return h},ko:function(){return x},li:function(){return p},v:function(){return d}});var o=n(13280),i=n(421);async function r(){if(i.Z||!i.q)return{};try{var e,t;let n=await (0,o.y)(),i=null===(t=n.tokens)||void 0===t?void 0:null===(e=t.idToken)||void 0===e?void 0:e.toString();if(i)return{Authorization:"Bearer ".concat(i)}}catch(e){console.warn("Failed to fetch auth session",e)}return{}}async function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new Headers(t.headers);n.set("Content-Type","application/json"),Object.entries(await r()).forEach(e=>{let[t,o]=e;return n.set(t,o)});let o=await fetch("".concat("https://hv16oj3j92.execute-api.eu-west-2.amazonaws.com/prod").concat(e),{...t,headers:n});if(!o.ok)throw Error(await o.text()||"API request failed");if(204!==o.status)return o.json()}async function s(e){return c("/applications?status=".concat(encodeURIComponent(e)))}async function a(e){return c("/applications",{method:"POST",body:JSON.stringify(e)})}async function l(e){return c("/applications/".concat(e))}async function d(e,t){return c("/applications/".concat(e,"/issues"),{method:"POST",body:JSON.stringify(t)})}async function u(e,t,n){return c("/applications/".concat(e,"/issues/").concat(t),{method:"PATCH",body:JSON.stringify(n)})}async function p(e,t){return c("/applications/".concat(e),{method:"PATCH",body:JSON.stringify(t)})}async function h(e){let t=e?"?status=".concat(encodeURIComponent(e)):"";return c("/issues".concat(t))}async function x(e,t){return c("/applications/".concat(e,"/extensions"),{method:"POST",body:JSON.stringify(t)})}}},function(e){e.O(0,[844,722,971,23,744],function(){return e(e.s=11725)}),_N_E=e.O()}]);